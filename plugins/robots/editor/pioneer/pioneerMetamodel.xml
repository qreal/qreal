<?xml version="1.0" encoding="utf-8"?>
<metamodel xmlns="http://schema.real.com/schema/">
	<extends>../common/robotsMetamodel.xml</extends>
	<namespace>UML 2.0</namespace>
	
	<diagram name="RobotsDiagram">

		<nonGraphicTypes>
			<enum name="PioneerLedColor">
				<value name="green" displayedName="green"/>
				<value name="red" displayedName="red"/>
				<value name="off" displayedName="off"/>
				<value name="orange" displayedName="orange"/>
			</enum>
		</nonGraphicTypes>

		<graphicTypes>

			<node displayedName="Takeoff" name="GeoTakeoff" description="Orders quadcopter to takeoff.">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/pioneerTakeoffBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<nonResizeable/>
				</graphics>
				<logic>
					<container/>
					<properties/>
					<generalizations>
						<parent parentName="AbstractNode"/>
					</generalizations>
				</logic>
			</node>

			<node displayedName="Landing" name="GeoLanding" description="Orders quadcopter to land.">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/pioneerLandingBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<nonResizeable/>
				</graphics>
				<logic>
					<container/>
					<properties/>
					<generalizations>
						<parent parentName="AbstractNode"/>
					</generalizations>
				</logic>
			</node>

			<node displayedName="Go to point" name="GoToPoint" path="185, 207 : 287, 105 :  | 287, 105 : 182, 0 :  | 0, 105 : 287, 105 : " description="Orders quadcopter to fly to given coordinates.">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/pioneerGoToPointBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="35" y="60" textBinded="Latitude" background="white" prefix="Latitude:"/>
						<label x="35" y="90" textBinded="Longitude" background="white" prefix="Longitude:"/>
						<label x="35" y="120" textBinded="Altitude" background="white" prefix="Altitude:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<container/>
						<properties>
							<property displayedName="Latitude" type="string" name="Latitude">
								<default>0</default>
							</property>
							<property displayedName="Longitude" type="string" name="Longitude">
								<default>0</default>
							</property>
							<property displayedName="Altitude" type="string" name="Altitude">
								<default>0</default>
							</property>
						</properties>
					<generalizations>
						<parent parentName="AbstractNode"/>
					</generalizations>
				</logic>
			</node>

			<node displayedName="Led" name="PioneerLed" path="70, 79 : 70, 121 :  | 25, 78 : 25, 122 :  | 12, 12 : 86, 12 : 86, 78 : 12, 78 : 12, 12 : " description="Sets the color of the LED on a quadcopter.">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/pioneerLedBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="35" y="-40" textBinded="Color" hard="true" background="white" prefix="Color:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<properties>
						<property displayedName="Color" type="PioneerLedColor" name="Color">
							<default>red</default>
						</property>
					</properties>
					<container/>
					<generalizations>
						<parent parentName="AbstractNode"/>
					</generalizations>
				</logic>
			</node>

			<node displayedName="Print" name="PioneerPrint" description="Prints given string on a console.">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/pioneerPrintBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="35" y="60" textBinded="PrintText" hard="true" background="white" prefix="Text:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<properties>
						<property displayedName="Text" type="string" name="PrintText">
							<default>Enter some text here</default>
						</property>
						<property displayedName="Evaluate" type="bool" name="Evaluate">
							<default>false</default>
						</property>
					</properties>
					<container/>
					<generalizations>
						<parent parentName="AbstractNode"/>
					</generalizations>
				</logic>
			</node>

			<node displayedName="Magnet On" name="MagnetOn" description="Turns on magnet on a quadcopter.">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/pioneerMagnetOnBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<nonResizeable/>
				</graphics>
				<logic>
					<properties />
					<container/>
					<generalizations>
						<parent parentName="AbstractNode"/>
					</generalizations>
				</logic>
			</node>

			<node displayedName="Magnet Off" name="MagnetOff" description="Turns off magnet on a quadcopter.">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/pioneerMagnetOffBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<nonResizeable/>
				</graphics>
				<logic>
					<properties />
					<container/>
					<generalizations>
						<parent parentName="AbstractNode"/>
					</generalizations>
				</logic>
			</node>

			<node displayedName="System" name="PioneerSystem" description="Executes given Lua script.">
				<graphics>
					<picture sizex="50" sizey="50">
						<image y1="0" name="images/systemBlock.svg" x1="0" y2="50" x2="50"/>
					</picture>
					<labels>
						<label x="40" y="60" textBinded="Command" background="white" prefix="Command:"/>
					</labels>
					<nonResizeable/>
				</graphics>
				<logic>
					<properties>
						<property displayedName="Command" type="string" name="Command">
							<default>print('Hello')</default>
						</property>
						<property displayedName="Evaluate" type="bool" name="Evaluate">
							<default>false</default>
						</property>
					</properties>
					<container/>
					<generalizations>
						<parent parentName="AbstractNode"/>
					</generalizations>
				</logic>
			</node>

		</graphicTypes>

		<palette sorted="false">
			<group name="Actions">
				<element name="GeoTakeoff"/>
				<element name="GeoLanding"/>
				<element name="GoToPoint"/>
				<element name="PioneerLed"/>
				<element name="PioneerPrint"/>
				<element name="MagnetOn"/>
				<element name="MagnetOff"/>
				<element name="PioneerSystem"/>
			</group>
		</palette>
	</diagram>
</metamodel>
