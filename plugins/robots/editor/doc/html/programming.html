<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="keywords" content="QReal:Robots, help, mannual, user guide" />
<meta name="description" content="QReal:Robots help center" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Создание программ в QReal:Robots</title>
<link href="style.css" rel="stylesheet" type="text/css" media="screen" />
<script type="text/javascript" src="version.js"></script>
</head>

<!-- TODO: move contents, header and footer into common separate files -->
<body>
<div id="wrapper">
	<div id="banner-wrapper">
		<div id="logo" class="container">
			<p>Справка - QReal:Robots %version%</p>
		</div>
		<div class="container">
			<center><img src="pics/kroki.png" width="600" height="250" alt="" /></center>
		</div>
	</div>
	<div id="page" class="container">
		<div id="sidebar">
			<div>
				<h2>Содержание:</h2>
				<ul class="list-style2">
					<li><a href="interface.html">Пользовательский интерфейс</a></li>
						<ul>
							<li><a href="interface.html#settings">Диалог настроек</li>
							<li><a href="interface.html#d2model">Диалог двумерной модели робота</li>
						</ul>
					<li><a href="robot-setup.html">Подключение робота</a></li>
					<li><a href="programming.html">Создание программ</a></li>
						<ul>
							<li><a href="programming.html#diagrams">Создание диаграмм</a></li>
							<li><a href="programming.html#blocks">Создание блоков</a></li>
							<li><a href="programming.html#links">Создание связей</a></li>
							<li><a href="programming.html#functions">Синтаксис выражений</a></li>
							<li><a href="programming.html#properties">Редактирование свойств элементов</a></li>
						</ul>
					<li><a href="run-programs.html">Запуск программ</a></li>
					<ul>
						<li><a href="run-programs.html#bluetooth">Интерпретация по Bluetooth</a></li>
						<li><a href="run-programs.html#flashing">Прошивка в робота</a></li>
					</ul>
				</ul>
			</div>
		</div>		
		<div id="content">
			<div class="post">
				<h2 class="title">Создание программ в QReal:Robots<a href="#"></a></h2>
				<div class="entry">
					<p></p>
				</div>
			</div>
			<div style="clear: both;">&nbsp;</div>
			<h3><a name="diagrams">Работа с диаграммами</a></h3>

			Программа в QReal:Robots представляется в виде последовательности блоков, соединённых связями. Каждой программе соответствует отдельная диаграмма. Диаграммы упаковываются в проекты, хранящиеся на диске. Создание диаграмм и проектов осуществляется через панель "Файл". Переключение, удаление и редактирование свойств самих диаграмм осуществляется из окна "Блоки", которое по умолчанию находится на вкладке рядом с редактором свойств:

			<br/><br/>

			<center><img src="pics/programming-creation.png" alt="Создание диаграммы"></center>

			<br/><br/>

			<h3><a name="blocks">Создание блоков</a></h3>

			Блоки в QReal:Robots создаются перетаскиванием соответствующих иконок из палитры элементов на диаграмму, либо жестом мышью. Чтобы создать блок жестом, надо с зажатой правой кнопкой начертить на сцене условное изображение блока, после чего блок появится в центре нарисованного изображения. Доступные условные изображения можно просмотреть в окне "Жесты мышью", открывающемся через пункт меню "Инструменты" -> "Жесты мышью". Жесты можно рисовать несколькими штрихами, ввод жеста заканчивается, если штрихи некоторое время не рисовали (это время настраивается в окне настроек, вкладка "Поведение". Рассмотрим доступные типы блоков:

			<h4>Алгоритмы</h4>

			<table cellspacing="2" border="1" cellpadding="5" width="800" >
			  <tr>
				<td>Название элемента</td>
				<td>Пиктограмма</td>
				<td>Описание</td>
			  </tr>
			  <tr>
				<td>Комментарий</td>
				<td><center><img src="pics/blocks-comment.png" alt="Комментарий"></center></td>
				<td>Возможность добавить на диаграмму произвольный текст в качестве комментария. Используется для того, чтобы пояснить какой-то конкретный блок или участок диаграммы, может быть связан с блоком, который он поясняет. При выполнении программы не учитывается.</td>
			  </tr>
			  <tr>
				<td>Линия соединения</td>
				<td><center><img src="pics/blocks-connection.png" alt="Линия соединения"></center></td>
				<td>Связь между блоками. Подробнее о связях см. в разделе <a href="programming.html#links">Создание связей</a>).</td>
			  </tr>
			  <tr>
				<td>Подпрограмма</td>
				<td><center><img src="pics/blocks-subprogram.png" alt="Подпрограмма"></center></td>
				<td>Вызов подпрограммы. Подпрограммы используются для того, чтобы вынести повторяющиеся фрагменты программы на отдельную диаграмму, а потом вызывать фрагмент программы с этой диаграммы в нескольких местах основной программы или других подпрограмм. При добавлении этого блока на диаграмму будет предложено ввести имя подпрограммы, после чего двойным кликом на блоке можно будет перейти на диаграмму, соответствующую данной подпрограмме. Кроме того, появится дополнительная палитра со всеми подпрограммами, подпрограммы из неё можно перетаскивать на сцену и использовать как обычные блоки.</td>
			  </tr>
			  <tr>
				<td>Условие</td>
				<td><center><img src="pics/blocks-ifBlock.png" alt="Условие"></center></td>
				<td>Разделить выполнение программы в соответствии с заданным условием. Значением параметра "Условие" является некое логическое выражение (подробнее см. раздел <a href="programming.html#functions">Синтаксис выражений</a>),  на основе значения которого будет осуществлен выбор дальнейшего пути выполнения диаграммы. У данного блока должны быть две исходящие связи, у хотя бы одной из которых должно быть задано значение параметра "Условие", "истина" или "ложь".</td>
			  </tr>
			  <tr>
				<td>Цикл</td>
				<td><center><img src="pics/blocks-loopBlock.png" alt="Цикл"></center></td>
				<td>Блок, организующий выполнение последовательности блоков несколько раз. Число повторений задается значением параметра "Итераций". Блок должен иметь две исходящие связи, одна из которых должна быть помечена значением "итерация" (то есть значение параметра "Условие" должно быть "итерация"). Другая связь, исходящая из блока "Цикл", должна оставаться непомеченной: по ней будет осуществляться переход, когда программа пройдет через блок "Цикл" указанное число раз. </td>
			  </tr>
			</table>

			<br/>

			<h4><a name="functional">Действия</a></h4>

			<table cellspacing="2" border="1" cellpadding="5" width="800" >
			  <tr>
				<td>Название элемента</td>
				<td>Пиктограмма</td>
				<td>Описание</td>
			  </tr>
			  <tr>
				<td>Гудок</td>
				<td><center><img src="pics/blocks-beepBlock.png" alt="Гудок"></center></td>
				<td>Проиграть на роботе звук с фиксированной частотой. Имеется один параметр — ждать ли завершения проигрывания звука или сразу же перейти к следующему блоку. Допустимые значения — true и false.</td>
			  </tr>
			  <tr>
				<td>Играть звук</td>
				<td><center><img src="pics/blocks-toneBlock.png" alt="Играть звук"></center></td>
				<td>Проиграть на роботе звук с заданной частотой и длительностью. Аналогичен блоку "Гудок", но позволяет задавать параметры звука. Имеется параметр, определяющий, ждать ли завершения проигрывания звука или сразу же перейти к следующему блоку. </td>
			  </tr>
			  <tr>
				<td>Моторы вперёд</td>
				<td><center><img src="pics/blocks-enginesForwardBlock.png" alt="Моторы вперёд"></center></td>
				<td>Включить моторы по заданным портам с заданной мощностью. Порты задаются буквами A, B или C, разделенными запятыми. Мощность задается в процентах числом от -100 до 100, если задано отрицательное значение, мотор включается в режиме реверса. Так, на картинке изображена команда включения моторов на портах A и B с мощностью 100%. Кроме того, моторы имеют разные режимы работы: режим торможения и режим скольжения (отображаемые красным или зелёным прямоугольником на блоке соответственно). Режимы влияют на то, как двигатель отрабатывает команду - режим торможения стопорит двигатель при отключении, режим скольжения позволяет двигателю прокручиваться по инерции. 
				</td>
			  </tr>
			  <tr>
				<td>Моторы назад</td>
				<td><center><img src="pics/blocks-enginesBackwardBlock.png" alt="Моторы назад"></center></td>
				<td>Включить моторы в режиме реверса по заданным портам с заданной мощностью. Параметры аналогичны параметрами блока "Моторы вперёд".</td>
			  </tr>
			  <tr>
				<td>Моторы стоп</td>
				<td><center><img src="pics/blocks-enginesStopBlock.png" alt="Моторы стоп"></center></td>
				<td>Выключить моторы по заданным портам.</td>
			  </tr>
			  <tr>
				<td>Параллельные задачи</td>
				<td><center><img src="pics/blocks-forkBlock.png" alt="Параллельные задачи"></center></td>
				<td>Разделить выполнение программы на несколько потоков, которые с точки зрения программиста будут выполняться параллельно. Так, например, можно одновременно ждать срабатывания сенсора и истечения временного интервала. Блок должен иметь хотя бы две исходящие связи.</td>
			  </tr>
			  <tr>
				<td>Функция</td>
				<td><center><img src="pics/blocks-functionBlock.png" alt="Функция"></center></td>
				<td>Посчитать значение заданного выражения. Также в данном блоке допускается определение переменных. Подробнее про синтаксис допустимых выражений параметра "Функция" см. в разделе <a href="programming.html#functions">Синтаксис выражений</a>.</td>
			  </tr>
			</table>

			<br/>

			<h4>Инициализация</h4>

			<table cellspacing="2" border="1" cellpadding="5" width="800" >
			  <tr>
				<td>Название элемента</td>
				<td>Пиктограмма</td>
				<td>Описание</td>
			  </tr>
			  <tr>
				<td>Конец</td>
				<td><center><img src="pics/blocks-finalBlock.png" alt="Конец"></center></td>
				<td>Конец программы. Если программа состоит из нескольких параллельных участков выполнения, достижение этого блока завершает соответствующий участок выполнения. У данного блока не может быть исходящих связей.</td>
			  </tr>
  			  <tr>
				<td>Начало</td>
				<td><center><img src="pics/blocks-initialBlock.png" alt="Начало"></center></td>
				<td>Начальная точка выполнения программы. На каждой диаграмме такой блок должен быть только один, в него не должно быть входящих связей, исходящая связь из этого элемента должна быть только одна. Процесс интерпретации диаграммы начинается именно с этого блока.</td>
			  </tr>
			  <tr>
				<td>Сбросить показания энкодера</td>
				<td><center><img src="pics/blocks-nullifyEncoderBlock.png" alt="Сбросить показания энкодера"></center></td>
				<td>Сбросить показания количества оборотов моторов.</td>
			  </tr>
			</table>

			<h4>Ожидания</h4>

			<table cellspacing="2" border="1" cellpadding="5" width="800" >
			  <tr>
				<td>Название элемента</td>
				<td>Пиктограмма</td>
				<td>Описание</td>
			  </tr>
			  <tr>
			  <td>Ждать гироскоп</td>
				<td><center><img src="pics/blocks-waitForGyroBlock.png" alt="Ждать гироскоп"></center></td>
				<td>Ждать, пока значение, возвращаемое гироскопом на указанном порту, не будет сравнимо с указанным в значении параметра "Градусы".</td>
			  </tr>
			  <td>Ждать интенсивность цвета</td>
				<td><center><img src="pics/blocks-waitIntensityBlock.png" alt="Ждать интенсивность цвета"></center></td>
				<td>Ждать, пока значение, возвращаемое сенсором цвета на указанном порту, не будет сравнимо с указанным в значении параметра "Интенсивность" (задается в процентах). Еще один парамер — номер порта, к которому подключен сенсор цвета. Также параметром указывается операция, которая будет использоваться для сравнения с введенной интенсивностью. Так, при выполнении приведенного блока выполнение программы остановится до тех пор, пока значение, возвращаемое соответствующим сенсором цвета, не будет больше, чем 60 процентов.</td>
			  </tr>
			  <td>Ждать нажатия кнопок</td>
				<td><center><img src="pics/blocks-waitForButtonsBlock.png" alt="Ждать нажатия кнопок"></center></td>
				<td>Ждать, пока заданные кнопки на роботе не будут нажаты заданное количество раз. Счётчики нажатия можно задать для каждой кнопки отдельно, блок продолжит выполнение, только когда все счётчики сработают.</td>
			  </tr>
			  <tr>
				<td>Ждать свет</td>
				<td><center><img src="pics/blocks-waitLightBlock.png" alt="Ждать свет"></center></td>
				<td>Ждать, пока значение, возвращаемое сенсором света на указанном порту, не будет сравнимо с указанным в значении параметра "Проценты". Еще один парамер — номер порта, к которому подключен сенсор цвета. Также параметром указывается операция, которая будет использоваться для сравнения со значением параметра "Проценты". Так, при выполнении приведенного блока выполнение программы остановится до тех пор, пока значение, возвращаемое соответствующим сенсором света, не будет больше, чем 60 процентов.</td>
			  </tr>
			  <tr>
				<td>Ждать сенсор звука</td>
				<td><center><img src="pics/blocks-waitSoundBlock.png" alt="Ждать сенсор звука"></center></td>
				<td>Ждать, пока громкость, считанная микрофоном на заданном порту, не будет выше или ниже заданного значения.</td>
			  </tr>			  
			  <tr>
				<td>Ждать сенсор касания</td>
				<td><center><img src="pics/blocks-waitTouchBlock.png" alt="Ждать сенсор касания"></center></td>
				<td>Ждать, пока не сработает сенсор касания. Параметром указывается номер порта, к которому подключен сенсор касания. Допустимые значения: 1, 2, 3, 4.</td>
			  </tr>
			  <tr>
				<td>Ждать сонар</td>
				<td><center><img src="pics/blocks-waitSonarBlock.png" alt="Ждать сонар"></center></td>
				<td>Ждать, пока расстояние, возвращаемое ультразвуковым сенсором расстояния, не будет сравнимо с указанным в значении параметра "Расстояние" (расстояние задается в сантиметрах, от 0 до 255). Еще один парамер — номер порта, к которому подключен датчик расстояния. Также параметром указывается операция, которая будет использоваться для сравнения с введенным расстоянием. Так, при выполнении приведенного блока выполнение программы остановится до тех пор, пока значение, возвращаемое сонаром, не будет меньше, чем 40 см.</td>
			  </tr>
			  <tr>
				<td>Ждать цвет</td>
				<td><center><img src="pics/blocks-waitColorBlock.png" alt="Ждать цвет"></center></td>
				<td>Ждать, пока сенсор цвета в режиме распознавания цветов не вернет указанный цвет.</td>
			  </tr>
			  <tr>
				<td>Ждать энкодер</td>
				<td><center><img src="pics/blocks-waitEncoderBlock.png" alt="Ждать энкодер"></center></td>
				<td>Ждать, пока показания счетчика количества оборотов на заданном моторе не достинут указанного в значении параметра "Предел оборотов".</td>
			  </tr>
			  <tr>
				<td>Таймер</td>
				<td><center><img src="pics/blocks-timerBlock.png" alt="Таймер"></center></td>
				<td>Ждать заданное количество времени, в миллисекундах.</td>
			  </tr>
			</table>

			<br/>

			<h4>Рисование на дисплее</h4>
			
			Блоки рисования на дисплее работают только при прошивке программы на робот или в двумерной модели, при интерпретации программы по Bluetooth или USB они работать не будут в силу ограничений в системе прямых команд робота.

			<table cellspacing="2" border="1" cellpadding="5" width="800" >
			  <tr>
				<td>Название элемента</td>
				<td>Пиктограмма</td>
				<td>Описание</td>
			  </tr>
			  <tr>
				<td>Напечатать текст</td>
				<td><center><img src="pics/blocks-displayTextBlock.png" alt="Напечатать текст"></center></td>
				<td>Напечатать заданную строку в заданных координатах на экране. Можно использовать символ доллара ('$') перед идентификатором переменной для вывода ее значения. Данный сценарий игнорируется, если перед символом доллара стоит обратный слеш ('\'). Пример: строка "\$a = $a" напечатает "$a = 5", если значение переменной a равно 5. </td>
			  </tr>
			  <tr>
				<td>Нарисовать круг</td>
				<td><center><img src="pics/blocks-drawCircleBlock.png" alt="Нарисовать круг"></center></td>
				<td>Нарисовать на экране круг с заданным центром и заданным радиусом.</td>
			  </tr>
			  <tr>
				<td>Нарисовать линию</td>
				<td><center><img src="pics/blocks-drawLineBlock.png" alt="Нарисовать линию"></center></td>
				<td>Нарисовать на экране отрезок. В качестве параметров блоку указываются концы отрезка.</td>
			  </tr>
			  <tr>
				<td>Нарисовать прямоугольник</td>
				<td><center><img src="pics/blocks-drawRectangleBlock.png" alt="Нарисовать прямоугольник"></center></td>
				<td>Нарисовать на экране прямоугольник. В качестве параметров указываются координаты левого верхнего угла, ширина и высота прямоугольника.</td>
			  </tr>
			  <tr>
				<td>Нарисовать точку</td>
				<td><center><img src="pics/blocks-drawPointBlock.png" alt="Нарисовать точку"></center></td>
				<td>Нарисовать на экране точку в указанных координатах.</td>
			  </tr>
			  <tr>
				<td>Очистить экран</td>
				<td><center><img src="pics/blocks-clearScreenBlock.png" alt="Очистить экран"></center></td>
				<td>Стереть всё, что нарисовано на экране.</td>
			  </tr>
			</table>

			<br/>

			<br/><br/>

			<h3><a name="links">Создание связей</a></h3>

			Связи между элементами в QReal:Robots обозначают направление передачи управления между блоками. Это означает, что если Вы хотите, например, чтобы вслед за выключением моторов робота программа сразу же завершилась, Вам необходимо соединить блоки "Моторы стоп" и "Конец" стрелкой, имеющей направление от блока включения моторов к блоку завершения программы:

			<br/><br/>

			<center><img src="pics/programming-links.png" alt="Связь в QReal:Robots"></center>

			<br/>

			<div>
			Связи в QReal:Robots можно создавать несколькими способами. <i>Первый подход</i> аналогичен созданию блоков — нужно найти в палитре элементов соответствующую пиктограмму ("Линия соединения") и перетащить его в нужное место диаграммы. При этом если "бросить" эту пиктограмму на уже существующий блок, то связь автоматически прикрепится к этому элементу. Если навести на связь курсор мыши, то на ее концах отобразятся серые маркеры:
			</div>

			<br/><br/>

			<center><img src="pics/programming-link-selected.png" alt="Выделение связи"></center>

			<br/>

			<div>
			Потянув за один из этих маркеров, можно управлять тем, к каким блокам присоединен тот или иной конец данной связи. Так, чтобы присоединить один из концов связи к блоку, нужно потянуть за соответствующий серый маркер и отпустить его на интересующем блоке. 
			</div>

			<br/><br/>

			<div>
			<i>Второй подход</i> не требует перетаскивания элементов из палитры. Для того, чтобы создать связь между двумя элементами A и B, нужно навести курсор на элемент A, нажать <b>правую</b> кнопку мыши и, не отпуская ее, провести линию до элемента B (форма линии может быть произвольной, важно, чтобы она начиналась строго на элементе A и заканчивалась на элементе B). При этом на сцене это будет отражено следующим образом (элемент A в нашем случае — это блок "Начало", B — блок "Конец"):
			</div>

			<br/><br/>

			<center><img src="pics/programming-links-gesture.png" alt="Создание связи жестом мышью"></center>

			<br/>

			<div>При отпускании правой кнопки мыши элементы A и B окажутся соединенными связью:</div>

			<br/><br/>

			<center><img src="pics/programming-links-gesture-ok.png" alt="Создание связи жестом мышью"></center>

			<br/><br/>


			<div>
			<i>Третий подход</i> — использование встроенных линкеров, т.е. цветных кружков, размещающихся при выделении элементов на диаграмме чуть правее соответствующей иконки. 
			</div>

			<br/><br/>

			<br/>
			<center><img src="pics/programming-linkers.png" alt="Создание связи с помощью линкеров"></center>

			<br/><br/>

			<div>
			При нажатии на этот кружок и движении мыши с зажатой левой клавишей, из элемента начинает вытягиваться связь. Если "бросить" эту связь на существующем элементе, произойдет соединение данных элементов. Если же отпустить левую клавишу мыши, когда курсор находится на пустом участке диаграммы, то появится следующее меню:
			</div>

			<br/>
			<center><img src="pics/programming-linkers-menu.png" alt="Меню встроенных линкеров"></center>

			<br/><br/>

			<div>
			При выборе пункта меню "Удалить" созданная ассоциация удаляется, при выборе пункта "Убрать меню" связь остается на диаграмме и меню закрывается. При наведении на пункт меню "Создать новый элемент" появляется новое меню, в котором перечислены все возможные для создания элементы. При выборе одного из этих пунктов на диаграмме создастся соответствующий элемент и присоединится к текущему связью.
			</div>

			<br/><br/>


			<div>
			Связи в QReal:Robots могут быть ломаными линиями. Для того, чтобы добавить новую точку излома, нужно навести курсор мыши на точку линии связи, где хочется сделать излом, нажать левой кнопкой мыши и потянуть появившийся серый маркер: 
			</div>

			<br/>
			<center><img src="pics/programming-link-polygon.png" alt="Создание точек излома"></center>
			<br/><br/>

			<div>
			При этом, если точку излома связи разместить так, что она и две ближайших к ней будут располагаться примерно на одной прямой (см. рисунок ниже), то это приведет к уничтожению этой точки излома и сглаживанию ломаной в этом месте:
			</div>

			<center><img src="pics/programming-link-remove-point.png" alt="Удаление точек излома"></center>
			<br/><br/>

			<div>
			Также удалить точку излома можно, нажав на соответствующий ей серый маркер правой кнопкой мыши и выбрав пункт выпадающего меню "Удалить точку":
			</div>

			<center><img src="pics/programming-link-remove-menu.png" alt="Удаление точек излома"></center>
			<br/><br/>

			<div>
			При выборе пункта меню "Удалить все точки" все точки изломов связи уничтожаются и линия становится прямой, соединяющей начало и конец ломаной.
			</div>

			<h3><a name="functions">Синтаксис выражений</a></h3>

			Для объявления переменных и задания им определенных значений используется отдельный блок "Функция". Все переменные, объявленные в блоке, являются в программе глобальными (т.е. их значения могут использоваться в любом другом блоке). 

			<br/><br/>

			<div>
			Для объявления новых переменных в QReal:Robots не используется какого-то специального синтаксиса. Для того, чтобы завести новую переменную, нужно просто присвоить ей какое-нибудь значение. Имена переменных могут указываться на русском языке. При желании в одном блоке "Функция" можно объявлять несколько переменных, в этом случае объявления нужно разделять знаком ";". Пример объявления переменных выглядит следующим образом: "R = 10; L = R/2":
			</div>

			<br/>
			<center><img src="pics/programming-syntax-example.png" alt="Пример синтаксиса выражений"></center>
			<br/><br/>

			<div>
			В правых частях выражений допускается использование базовых арифметических операций (сложение, вычитание, умножение, деление), а также использование круглых скобок. Далее значения этих переменных могут использоваться для указания различных параметров в управляющих блоках. Например, в следующем примере изображена программа пропорционального регулятора:
			</div>

			<br/>
			<center><img src="pics/programming-syntax-regulator.png" alt="Пример"></center>
			<br/><br/>

			<div>
			В случае синтаксических и семантических ошибок сообщения о них при попытке выполнения программы появляются в информационном окне в нижней части QReal:Robots с выделением блока, где появилась ошибка, и указанием позиции ошибки внутри выражения.
			<br/><br/>
			Помимо использования константных числовых значений программисту в QReal:Robots доступны зарезервированные переменные “Sensor1”, “Sensor2”, “Sensor3” и “Sensor4”, которые хранят значения показаний сенсоров, подключенных по соответствующим портам (номер сенсора соответствует номеру порта). Их значения можно присваивать переменным и использовать в математических выражениях.
			</div>
			
			<div>
			Кроме того, в математических выражениях можно использовать функции. Список поддерживаемых функций приведён в таблице ниже.
			<table cellspacing="2" border="1" cellpadding="5" width="800" >
			  <tr>
				<td>Название функции</td>
				<td>Описание</td>
			  </tr>
			  <tr>
				<td>cos</td>
				<td>Косинус. Аргумент передаётся в градусах.</td>
			  </tr>
			  <tr>
				<td>sin</td>
				<td>Синус. Аргумент передаётся в градусах.</td>
			  </tr>
			  <tr>
				<td>ln</td>
				<td>Натуральный логарифм.</td>
			  </tr>
			  <tr>
				<td>exp</td>
				<td>Экспонента (e в степени аргумента).</td>
			  </tr>
			  <tr>
				<td>asin</td>
				<td>Арксинус.</td>
			  </tr>
			  <tr>
				<td>acos</td>
				<td>Арккосинус.</td>
			  </tr>
			  <tr>
				<td>atan</td>
				<td>Арктангенс.</td>
			  </tr>
			  <tr>
				<td>sgn</td>
				<td>Знак. Возвращает 1, если аргумент положительный, -1, если отрицательный, и 0, если аргумент равен нулю.</td>
			  </tr>
			  <tr>
				<td>sqrt</td>
				<td>Квадратный корень аргумента. В случае, если аргумент отрицательный, переменной будет присвоено значение "nan" (Not A Number).</td>
			  </tr>
			  <tr>
				<td>abs</td>
				<td>Модуль аргумента.</td>
			  </tr>
			  <tr>
				<td>random</td>
				<td>Случайное число в интервале от 0 до переданного аргумента.</td>
			  </tr>
			</table>
			
			</div>

			<h3><a name="properties">Редактирование свойств элементов</a></h3>

			<div>
			В QReal:Robots имеется несколько способов редактирования значений свойств, которые имеются у блоков и связей на диаграммах. Основным из них является использование редактора свойств (см. раздел <a href="interface.html">Интерфейс QReal:Robots</a>). При выделении блока связи или элемента на сцене в редакторе свойств отображаются все свойства текущего элемента (на рисунке представлено изображение редактора свойств блока "Моторы вперёд"):
			</div>

			<br/><br/>
			<center><img src="pics/programming-property-editor.png" alt="Редактор свойств"></center>
			<br/><br/>

			<div>
			Редактор свойств представляет собой таблицу, в которой в левой колонке отображается название свойства элемента, а в правой — его значение. Изменить значение любого свойства можно кликнув на соответствующей ячейке правой колонки и введя нужное значение. Для свойств, которые допускают только определенный набор значений (например, свойство "Порт" у блока "Ждать сенсор касания"), при попытке их редактирования появится выпадающее меню, где выбирается интересующее значение:
			</div>

			<br/><br/>
			<center><img src="pics/programming-property-editor-combobox.png" alt="Редактор свойств"></center>
			<br/><br/>

			<div>
			Помимо редактора свойств, значения свойств элементов можно редактировать прямо на диаграмме. Для этого нужно навести курсор мыши на значение нужного свойства, двойным нажатием левой кнопки мыши активировать редактирование свойства, ввести нужное значение и кликнуть в произвольное место сцены. Стоит отметить, что данный подход может служить источником ошибок, поскольку позволяет ввести произвольное текстовое значение свойства, в том числе и некорректное. Будьте внимательны.
			</div>
			
			<h3><a name="graphs">Графики</a></h3>
			
			<div>Если программа запущена в режиме интерпретации на роботе или в двумерной модели, можно посмотреть показания сенсоров робота на графике в специальном окне:</div>
			
			<br/><br/>
			<center><img src="pics/graphs-window.png" alt="Окно графиков"></center>
			<br/><br/>
			
			Из выпадающего списка снизу можно выбрать сенсор, значения с которого будут отображаться. Кнопками "Старт" и "Стоп" можно запустить или остановить снятие показаний, не прерывая работы программы. Можно регулировать масштаб графика вручную, кроме того, график автоматически масштабируется, чтобы кривая показаний помещалась по высоте целиком. Ниже располагается кнопка "Очистить график". При наведении курсора мыши на точку на графике отобразится значение в этой точке.

			<h3><a name="graphs">Программирование на текстовом языке</a></h3>

			Текстовый режим программирования позволяет подредактировать сгенерированную по диаграмме программу перед загрузкой на робота. Можно писать программу в текстовом виде с нуля, для этого необходимо:
			<ul>
				<li>Создать диаграмму, содержащую только блоки "начало" и "конец", соединённые стрелкой</li>
				<li>Нажать на кнопку "Сгенерировать код"</li>
			</ul>
			После этого появится пустой шаблон программы, которая содержит все необходимые объявления, но не делает ничего (вызывает функцию TerminateTask(), заканчивающую работу программы, сразу после запуска). Окно текстового редактирования выглядит так:
			
			<br/><br/>
			<center><img src="pics/text-window.png" alt="Текстовая вкладка"></center>
			<br/><br/>
			
			Программирование осуществляется на языке C с использованием макросов и функций из библиотеки ECRobot. Общая структура программы такова:
			<ul>
				<li>Сначала идёт подключение заголовочных файлов, используемых в программе (стандартные заголовочные файлы C и заголовочные файлы ECRobot)</li>
				<li>Затем идёт объявление констант и переменных, используемых в программе</li>
				<li>За ними описываются функции ecrobot_device_initialize и ecrobot_device_terminate, первая вызывается при запуске программы, вторая - при прекращении её работы. В них обычно выполняется инициализация и деинициализация датчиков, энкодеров и других устройств робота. По умолчанию в ecrobot_device_initialize инициализируется генератор случайных чисел.</li>
				<li>За ними идёт описание функции user_1ms_isr_type2, которая вызывается каждую миллисекунду.</li>
				<li>Затем идёт описание задачи, которая запускается на исполнение при старте программы: TASK(OSEK_Task_Number_0). Здесь, собственно, и выполняется большая часть программирования.</li>
			</ul>
			Полное описание (на английском) функций, доступных при программировании доступно по ссылке <a href="http://lejos-osek.sourceforge.net/api.htm">http://lejos-osek.sourceforge.net/api.htm</a>. См. также <a href="http://lejos-osek.sourceforge.net/index.htm">http://lejos-osek.sourceforge.net/index.htm</a>. В качестве примеров можно использовать код, генерируемый по диаграммам самой средой QReal:Robots.
		</div>
		<!-- end #content -->
		<div style="clear: both;">&nbsp;</div>
	</div>
	<!-- end #page -->
</div>
<div id="footer">
	<p>© %year% QReal Inc. All rights reserved. </p>
</div>
<!-- end #footer -->
</body>
</html>
