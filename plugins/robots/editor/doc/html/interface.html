<html>
<head>

<title>Интерфейс QReal:Robots</title>

<meta http-equiv="content-type" content="text/html; charset=utf-8" />

</head>
<body>

<h3>Интерфейс QReal:Robots</h3>

Общий вид интерфейса QReal:Robots приведен на рисунке:
<br /><br />
<center><img src="pics/interface.png" alt="Интерфейс QReal:Robots"></center>

<ol>
  <li>Главное меню содержит набор базовых операций и настроек среды.</li>
  <ul>
    <li>Пункты меню "Файл"</li>
      <ul>
        <li><i>Открыть</i> — открыть сохраненную диаграму. В настоящее время диаграммы сохраняются на диск в виде иерархии каталогов. Для того, чтобы открыть диаграмму, нужно выбрать каталог, внутри которого находится каталог <i>save</i>.</li>
        <li><i>Сохранить</i> — сохранить открытые диаграммы в текущий каталог.</li>
        <li><i>Сохранить как</i> — выбрать новый каталог и сохранить все открытые диаграммы в него.</li>
      </ul>
    <li>Пункты меню "Инструменты": </li>
      <ul>
        <li><i>Выполнить</i> — запустить выполнение отображаемой в данный момент диаграммы на роботе.</li>
        <li><i>Прервать выполнение</i> — остановить выполнение программы, сбросив интерпретатор в изначальное состояние.</li>
        <li><i>Остановить робота</i> — прервать выполнение программы и послать роботу команды отключения моторов.</li>
        <li><i>Загрузить программу</i> — сгенерировать код, соответствующий текущей диаграмме, и загрузить его для выполнения в роботе.</li>
        <li><i>Загрузить прошивку</i> — загрузить в робота прошивку, позволяющую выполнять загруженные в него программы.</li>
      </ul>
    <li>Пункты меню "Настройки" (подробнее см. раздел <a href="#settings">Диалог настроек среды QReal:Robots</a>):</li>
      <ul>
        <li><i>Настройки</i> — открыть окно настроек среды QReal:Robots</li>
        <li><i>Настройки робота</i> — открыть окно настройки модели робота, с которой осуществляется работа в QReal:Robots.</li>
      </ul>
  </ul>
  <li>Панель "Файл" повторяет операции, доступные из меню "Файл".</li>
  <li>Панель "Вид" содержит кнопки, позволяющие масштабировать диаграммы. Этого же можно добиться вращением колесика мыши, наведя курсор на произвольное место рабочей области диаграммы.</li>
  <li>Панель "Интерпретатор" содержит команды запуска и остановки выполнения программы, доступные из меню "Инструменты". При настройке QReal:Robots на работу с двухмерной моделью (см. раздел <a href="#d2model">Диалог двухмерной модели робота</a>), эта панель также содержит кнопку отображения окна двухмерной модели.</li>
  <li>Панель "Взаимодействие с роботом" содержит следующие операции:</li>
    <ul>
      <li><i>Генерировать код</i> — сгенерировать и открыть в отдельном редакторе код для прошивки nxtOSEK, соответствующий текущей диаграмме.</li>
      <li><i>Прошить</i> — загрузить в робота по USB прошивку nxtOSEK. Прошивка nxtOSEK отличается от "родной" прошивки роботов Lego Mindstorms NXT 2.0 только тем, что позволяет загружать и автономно запускать пользовательские программы.</li>
      <li><i>Загрузить</i> — загрузить код, соответствующий текущей диаграмме, для исполнения в робота.</li>
    </ul>
  <li>Панель "Управление роботом" содержит кнопку для быстрого открытия окна настроек робота QReal:Robots.</li>
  <li>Панель "Разное" содержит кнопку, позволяющую перевести QReal:Robots в "полноэкранный режим" — в этом режиме отображается только окно редактора и палитра элементов. Данный режим полезен для использования на экранах с небольшим разрешением.</li>
  <li>Окно редактора отображает текущую диаграмму и позволяет ее редактировать. Здесь же осуществляется отображение текущего исполняемого блока при интерпретации диаграмм.</li>
  <li>Миникарта — уменьшенный вид на диаграмму. Содержит элемент управления (слайдер), позволяющий менять масштаб.</li>
  <li>Палитра элементов содержит набор доступных блоков и связей между ними, которые можно добавить на диаграмму (подробнее о процессе создания диаграмм в QReal:Robots см. раздел <a href="programming.html">Создание программ</a>).</li>
  <li>Обозреватель диаграмм представляет диаграммы и элементы на них в иерархическом виде.</li>
  <li>Редактор свойств используется для отображения и редактирования значений свойств выделенных элементов. </li>
</ol>

<h3><a name="settings">Диалог настроек QReal:Robots</a></h3>

<div>
Окно настроек QReal:Robots открывается выбором соответствующего пункта меню "Настройки". Интерфейс данного окна содержит в себе две панели — левую, отображающую список вкладок с настройками, и правую, отображающую поля для редактирования настроек текущей вкладки.
</div>

<h4>Вкладка "Редактор"</h4>

<br />
<center><img src="pics/interface-settings-tab1.png" alt="Окно настроек QReal:Robots"></center>
<br />

<div>
<ul>
  <li><i>Показывать сетку</i> — отображать/не отображать выравнивающую сетку на сцене редактора диаграмм.</li>
  <li><i>Показать направляющие</i> — отображать/не отображать направляющие линии на сцене редактора диаграмм. Направляющие линии появляются, когда блок находится на одной горизонтали или вертикали с другим блоком, и помогают выравнивать блоки на сцене.</li>
  <li><i>Выравнивание по сетке</i> — осуществлять/не осуществлять выравнивание блоков по сетке.</li>
  <li><i>Выравнивание по направляющим</i> — осуществлять/не осуществлять выравнивание блоков по направляющим.</li>
  <li><i>Толщина сетки</i> — толщина линий сетки. Настраивается в зависимости от яркости монитора или проектора.</li>
  <!-- <li><i>Размер</i> — размер встроенного линкера, т.е. кружка над блоком на диаграмме, осуществляющего создание связей между элементами (см. раздел <a href="programming.html#links">Создание связей</a>).</li> -->
  <li><i>Отступ</i> — отступ встроенного линкера от пиктограммы блока.</li>
  <li><i>Коэффициент масштабирования</i> — коэффициент масштабирования диаграмм при увеличении/уменьшении с помощью колесика мыши или соответствующих операций панели "Вид".</li>
  <li><i>Использовать системный шрифт	</i> — выбрать для отображения текста на сцене один из шрифтов операционной системы.</li>
</ul>
</div>

<h4>Вкладка "Поведение"</h4>

<br />
<center><img src="pics/interface-settings-tab2.png" alt="Окно настроек QReal:Robots"></center>
<br />

<div>
<ul>
  <li><i>Переключение табов в палитре</i> — переключать/не переключать закладки в палитре элементов при смене редактора.</li>
  <li><i>Упорядочивать связи</i> — перецеплять/не перецеплять конец связи к ближайшему порту блока при его движении.</li>
  <li><i>Создание новой диаграммы</i> — показывать/не показывать при старте приложения окно с предложением создать новую диаграмму, если не сохранено ни одной диаграммы.</li>
  <li><i>Показывать окно предупреждений</i> — показывать/не показывать окно предупреждений в нижней части экрана.</li>
</ul>
</div>

<h4>Вкладка "Разное"</h4>

<br />
<center><img src="pics/interface-settings-tab3.png" alt="Окно настроек QReal:Robots"></center>
<br />

<div>
<ul>
  <li><i>Антиалиасинг</i> — включить/выключить режим сглаживания фигур при отрисовке.</li>
  <li><i>Рендеринг OpenGL</i> — использовать/не использовать OpenGL для рисования фигур (на некотором оборудовании ускоряет отрисовку элементов).</li>
  <li><i>Показывать сплешскрин</i> — показывать/не показывать заставку при старте QReal:Robots.</li>
  <li><i>Режим перпендикулярных линий</i> — использовать/не использовать экспериментальный режим прокладки связей на диаграмме, когда во всех точках излома связей линии образуют прямые углы.</li>
  <li><i>Изображения</i> — путь к каталогу с иконками блоков.</li>
</ul>
</div>

<h4>Вкладка "Отладчик"</h4>

<br />
<center><img src="pics/interface-settings-tab5.png" alt="Окно настроек QReal:Robots"></center>
<br />

<div>
<ul>
  <li><i>Цвет подсветки</i> — цвет, которым будут подсвечиваться блоки при выполнении диаграммы.</li>
  <li><i>Задержка при отладке</i> — размер задержки между переходами между блоками, в миллисекундах.</li>
</ul>
</div>


<h4><a name="robotSettings">Вкладка "Настройки робота"</a></h4>

<br />
<center><img src="pics/interface-settings-tab6.png" alt="Окно настроек QReal:Robots"></center>
<br />

<div>
<ul>
  <li><i>COM-порт</i> — список системных COM-портов. Нужно выбрать тот, который ассоциирован с текущим bluetooth соединением с роботом (подробнее см. раздел <a href="robot-setup.html">Подключение робота в QReal:Robots</a>).</li>
  <li><i>Указать COM-порт вручную</i> — задать COM-порт вручную.</li>
  <li><i>Настройки сенсоров</i> — выбрать по каждому порту тип подключенного к нему сенсора.</li>
  <li><i>Пустая модель</i> — при выполнении программы не посылать команды в робота. Данный режим может быть полезен, если хочется отладить алгоритм, просто интерпретируя диаграмму на экране без участия реального устройства или двухмерной модели.</li>
  <li><i>Двухмерная модель</i> — при выполнении программы использовать в качестве исполнителя двухмерную модель.</li>
  <li><i>Реальный робот</i> — при выполнении программы посылать команды в робота по Bluetooth.</li>
</ul>
</div>


<h3><a name="d2model">Диалог двухмерной модели робота</a></h3>

Режим работы с двухмерной моделью полезен для отладки программ, а также в случае отсутствия реального устройства робота. В этом режиме программы могут также выполняться в пошаговом режиме, но в этом случае команды не передаются роботу по протоколу Bluetooth, а исполняются для виртуальной модели робота, отображающейся на экране. Осуществляется моделирование трехколесной тележки. Считается, что изначально робот находится в бесконечном пустом пространстве, для программиста существует возможность расставлять препятствия в виде стен. При этом эмулируется работа датчиков касания и ультразвукового датчика расстояния. 
<br/><br/>
Окно двухмерной модели робота QReal:Robots доступно для отображения, если в качестве типа модели робота в диалоге настроек робота выбран пункт "Двухмерная модель" (см. раздел <a href="#settings">Диалог настроек QReal:Robots</a>). В таком случае, при нажатии на кнопку "Двухмерная модель" панели "Интерпретатор" будет открыто следующее окно:
<br /><br />
<center><img src="pics/d2model.png" alt="Окно двухмерной модели робота QReal:Robots"></center>
<br />
Данное также окно открывается автоматически, если в этом режиме начать выполнение программы с помощью пункта меню или панели QReal:Robots.

<ol>
  <li>Сцена двухмерной модели. Представляет собой виртуальное пространство, в котором будет двигаться модель робота, обозначенная соответствующей иконкой.</li>
  <li>Панель управления препятствиями содержит следующие кнопки:</li>
  <ul>
    <li><i>Стена</i> — добавить на сцену препятствие в виде стены. Препятствие отображается в виде красной линии, при касании такой линии сенсором касания или при попадании в зону действия ультразвукового сенсора расстрояния происходит срабатывание сенсора.</li>
    <li><i>Очистить</i> — убрать все препятствия и сенсоры со сцены. После выполнения этого действия робот остается в пустом пространстве.</li>
  </ul>
  <li>Панель управления сенсорами позволяет менять конфигурацию и расположение сенсоров модели робота. Для каждого порта можно выбрать интересующий датчик, нажать кнопку <i>"Добавить"</i> и, кликнув на произвольном месте сцены, добавить туда соответствующий сенсор. При этом будет считаться, что сенсор соединен с роботом, то есть при движении иконки робота сенсоры будут двигаться вместе с ним, даже если они находятся на некотором расстоянии от модели робота. Датчик касания обозначается на диаграмме зеленым кружком, датчик цвета — синим, ультразвуковой датчик расстояния — красным. Кроме того, рядом с последним отображается серый конус, обозначающий область, в которой этот датчик будет регистрировать препятствия.</li>
  <li>Панель управления двухмерной моделью позволяет сохранять и загружать конфигурации модели окружающего мира и робота.</li>
  <li>Панель управления роботом позволяет запускать и останавливать выполнение текущей программы.</li>
</ol>

</body>
</html>
