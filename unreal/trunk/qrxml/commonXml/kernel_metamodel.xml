<?xml version='1.0' encoding='utf-8'?>
<metamodel xmlns="http://schema.real.com/schema/" >
 <!-- Kernel UML 2.0 package -->
 <namespace>UML 2.1</namespace>
 <editor name="Kernel" >
  <non_graph_types>
    <enum id="krntVisibility" name="VisibilityKind" >
     <value>private</value>
     <value>protected</value>
     <value>public</value>
     <value>package</value>
    </enum>
    <enum id="krntParameterDirection" name="ParameterDirectionKind" >
     <value>in</value>
     <value>inout</value>
     <value>out</value>
     <value>return</value>
    </enum>
  </non_graph_types>
  <graph_types>
   <!-- The main element -->
   <node id="krnnElement" name="Element" >
    <logic>
     <containers>
      <container name="E-E" >
       <contains idref="krnnElement" role="ownedElement" />
      </container>
      <container name="E-E" >
       <contained_by idref="krnnElement" role="owner" />
      </container>
     </containers>
     <associations>
      <assoc_ref idref="krnaRelEl1" />
      <assoc_ref idref="krnaRelEl2" />
      <assoc_ref idref="krnaDirrelSrc" />
      <assoc_ref idref="krnaDirrelTarg" />
      <assoc_ref idref="krnaComLinkElem" />
     </associations>
    </logic>
   </node>
   <node id="krnnDiagram" name="Diagram" >
    <graphics>
     <view>
      <picture sizex="30" sizey="30" >
       <path fill="#f8f8f8" stroke-style="solid" int="17" stroke="#000000" stroke-width="1" d=" M 0.9 0 C 0.402944 0 0 0.447715 0 1 L 0 19 C 0 19.5523 0.402944 20 0.9 20 L 29.1 20 C 29.5971 20 30 19.5523 30 19 L 30 1 C 30 0.447715 29.5971 0 29.1 0 L 0.9 0" fill-style="solid" />
      </picture>
      <repo_info>
       <html:html xmlns:html="http://www.w3.org/html/" >
        <html:center>
  <html:b>
   <html:text_from_repo name="name" />
  </html:b>
        </html:center>
       </html:html>
      </repo_info>
      <ports>
       <point_port x="0" y="10" />
       <point_port x="15" y="0" />
       <point_port x="30" y="10" />
       <point_port x="15" y="20" />
      </ports>
     </view>
    </graphics>
    <logic>
     <properties>
      <property type="string" name="language" />
      <property type="bool" name="isView" />
     </properties>
    </logic>
   </node>
   <!-- Named Element -->
   <node id="krnnNamedElement" name="NamedElement" >
    <logic>
     <generalizations>
      <generalization>
       <parent parent_id="krnnElement" />
      </generalization>
     </generalizations>
     <properties>
      <property type="string" name="name" />
      <property type="enum" name="visibility" >
       <enum idref="krntVisibility" />
      </property>
      <property type="string" name="qualifiedName" />
     </properties>
     <containers>
      <container name="NE-C" >
       <contained_by idref="krnnClassifier" />
      </container>
      <container name="N-NE_ownship" >
       <contained_by idref="krnnNamespace" role="ownedMember" />
      </container>
      <container name="N-NE_membership" >
       <contained_by idref="krnnNamespace" role="member" />
      </container>
     </containers>
    </logic>
   </node>
   <!-- General relationship -->
   <edge id="krneRelationship" name="Relationship" >
    <logic>
     <associations>
      <association role="relatedElement" end_type="no_arrow" id="krnaRelEl1" >
       <begin idref="krnnElement" />
      </association>
      <association role="relatedElement" end_type="no_arrow" id="krnaRelEl2" >
       <end idref="krnnElement" />
      </association>
     </associations>
     <generalizations>
      <generalization>
       <parent parent_id="krnnElement" />
      </generalization>
     </generalizations>
     <properties>
     <!-- TO DISCUSS!!! -->
      <property type="string" name="from" />
      <property type="string" name="to" />
      <property type="string" name="fromPort" />
      <property type="string" name="toPort" />
      <!-- END TO DISCUSS!!! -->
      <property type="string" name="fromMultiplicity" />
      <property type="string" name="toMultiplicity" />
     </properties>
    </logic>
   </edge>
   <!-- Directed relationship -->
   <edge id="krneDirRelationship" name="DirectedRelationship" >
    <logic>
     <properties>
      <property type="string" name="condition" />
     </properties>
     <associations>
      <association role="source" end_type="no_arrow" id="krnaDirrelSrc" >
       <begin idref="krnnElement" />
      </association>
      <association role="target" end_type="open_arrow" id="krnaDirrelTarg" >
       <end idref="krnnElement" />
      </association>
     </associations>
    </logic>
   </edge>
   <!-- Comment node and link -->
   <node id="krnnComment" name="Comment" >
    <logic>
     <properties>
      <property type="string" name="body" />
     </properties>
     <associations>
      <assoc_ref idref="krnaComLinkCom" />
     </associations>
     <generalizations>
      <generalization>
       <parent parent_id="krnnElement" />
      </generalization>
     </generalizations>
     <containers>
      <container name="E-Com" >
       <contained_by idref="krnnElement" role="ownedComment" />
      </container>
     </containers>
    </logic>
   </node>
   <edge id="krneComLink" name="CommentLink" >
    <logic>
     <associations>
      <association id="krnaComLinkCom" >
       <begin idref="krnnComment" />
      </association>
      <association role="annotatedElement" id="krnaComLinkElem" >
       <end idref="krnnElement" />
      </association>
     </associations>
    </logic>
   </edge>
   <!-- Namespace part -->
   <node id="krnnNamespace" name="Namespace" >
    <logic>
     <containers>
      <container name="N-NE_ownship" >
       <contains idref="krnnNamedElement" role="Namespace" min="0" max="1" />
      </container>
      <container name="N-NE_membership" >
       <contains idref="krnnNamedElement" />
      </container>
      <container name="N-PE" >
       <contains idref="krnnPackageableElem" />
      </container>
     </containers>
     <associations>
      <assoc_ref idref="krnaElementImportNamespace" />
      <assoc_ref idref="krnaPackageImportNamespace" />
     </associations>
    </logic>
   </node>
   <edge id="krneElementImport" name="ElementImport" >
    <logic>
     <properties>
      <property type="string" name="alias" />
      <!-- TO DISCUSS!!!     <property type="enum" name="visibility" >
       <enum idref="krntVisibility" />
      </property> -->
     </properties>
     <generalizations>
      <generalization>
       <parent parent_id="krneDirRelationship" />
      </generalization>
     </generalizations>
     <associations>
      <association role="elementImport" id="krnaElementImportNamespace" >
       <begin idref="krnnNamespace" />
      </association>
      <association id="krnaElementImportPackageableElement" >
       <end idref="krnnPackageableElem" />
      </association>
     </associations>
    </logic>
   </edge>
   <edge id="krnePackageImport" name="PackageImport" >
    <logic>
     <properties>
      <!--     <property type="enum" name="visibility" >
       <enum idref="krntVisibility" />
      </property> -->
     </properties>
     <generalizations>
      <generalization>
       <parent parent_id="krneDirRelationship" />
      </generalization>
     </generalizations>
     <associations>
      <association role="packageImport" id="krnaPackageImportNamespace" >
       <begin idref="krnnNamespace" />
      </association>
      <association id="krnaPackageImportPackage" >
       <end idref="krnnPackage" />
      </association>
     </associations>
    </logic>
   </edge>
   <node id="krnnPackage" name="Package" >
    <logic>
     <generalizations>
      <generalization>
       <parent parent_id="krnnNamespace" />
      </generalization>
      <generalization>
       <parent parent_id="krnnPackageableElem" />
      </generalization>
     </generalizations>
     <associations>
      <assoc_ref idref="krnaElementImportPackageableElement" />
     </associations>
    </logic>
   </node>
   <!-- Types part -->
   <node id="krnnPackageableElem" name="PackageableElement" >
    <logic>
     <associations>
      <assoc_ref idref="krnaElementImportPackageableElement" />
     </associations>
    </logic>
   </node>
   <node id="krnnType" name="Type" >
    <logic>
    <!--  TO DELETE!!!  <properties>
      <property type="enum" name="visibility" >
       <enum idref="krntVisibility" />
      </property> 
     </properties> -->
     <generalizations>
      <generalization>
       <parent parent_id="krnnPackageableElem" />
      </generalization>
     </generalizations>
     <containers>
      <container name="Type-Op" >
       <contained_by idref="krnnOperation" />
      </container>
      <container name="Type-BF" >
       <contained_by idref="krnnBehavioralFeature" />
      </container>
     </containers>
    </logic>
   </node>
   <node id="krnnTypedElem" name="TypedElement" >
    <logic>
     <properties>
      <property type="ref" name="type" >
       <ref idref="krnnType" />
      </property>
     </properties>
    </logic>
   </node>
   <!-- Classifier part -->
   <node id="krnnRedefElement" name="RedefinableElement" >
    <logic>
	 <generalizations>
      <generalization>
       <parent parent_id="krnnNamedElement" />
      </generalization>
     </generalizations>
     <properties>
      <property type="bool" name="isLeaf" />
     </properties>
     <containers>
      <container name="RE-C" >
       <contains idref="krnnClassifier" />
      </container>
      <container name="RE-RE" >
       <contains idref="krnnRedefElement" />
      </container>
      <container name="RE-RE" >
       <contained_by idref="krnnRedefElement" role="redefinedElement" />
      </container>
     </containers>
    </logic>
   </node>
   <node id="krnnClassifier" name="Classifier" >
    <logic>
     <generalizations>
      <generalization>
       <parent parent_id="krnnType" />
      </generalization>
      <generalization>
       <parent parent_id="krnnNamespace" />
      </generalization>
      <generalization>
       <parent parent_id="krnnRedefElement" />
      </generalization>
     </generalizations>
     <properties>
      <property type="bool" name="isAbstract" >
       <default>false</default>
      </property>
     </properties>
     <containers>
      <container name="Classifier-Property" >
       <contains idref="krnnProperty" unbounded="true" role="attribute" min="0" />
      </container>
      <container name="Classifier-Operation" >
       <contains idref="krnnOperation" unbounded="true" role="operation" min="0" />
      </container>
      <container name="Classifier-Feature" >
       <contains idref="krnnFeature" unbounded="true" role="feature" min="0" />
      </container>
      <container name="Classifier-NamedElement" >
       <contains idref="krnnNamedElement" unbounded="true" role="inheritedMember" min="0" />
      </container>
      <container name="Classifier-Classifier" >
       <contains idref="krnnClassifier" unbounded="true" role="general" min="0" />
      </container>
      <container name="Classifier-Classifier" >
       <contained_by idref="krnnClassifier" />
      </container>
      <container name="Class-Classifier" >
       <contained_by idref="cnClass" role="nestedClassifier" />
      </container>
      <container name="Classifier-RE" >
       <contained_by idref="krnnRedefElement" role="redefinableContext" />
      </container>
     </containers>
     <associations>
      <assoc_ref idref="krnaGereralEnd" />
      <assoc_ref idref="krnaGereralStart" />
     </associations>
    </logic>
   </node>
   <node id="krnnProperty" name="Property" >
    <logic>
     <generalizations>
      <generalization>
       <parent parent_id="krnnStructuralFeature" />
      </generalization>
     </generalizations>
     <containers>
      <container name="Classifier-Property" >
       <contained_by idref="krnnClassifier" role="classifier" />
      </container>
     </containers>
    </logic>
   </node>
   <edge id="krneGeneralization" name="Generalization" >
    <logic>
     <generalizations>
      <generalization>
       <parent parent_id="krneDirRelationship" />
      </generalization>
     </generalizations>
     <properties>
      <property type="bool" name="isSubstitutable" />
     </properties>
     <associations>
      <association role="general" end_type="empty_arrow" id="krnaGeneralEnd" >
       <end idref="krnnClassifier" />
      </association>
      <association id="krnaGeneralStart" >
       <begin idref="krnnClassifier" />
      </association>
     </associations>
    </logic>
   </edge>
   <!-- Operations part -->
   <node id="krnnOperation" name="Operation" >
    <logic>
     <generalizations>
      <generalization>
       <parent parent_id="krnnBehavioralFeature" />
      </generalization>
     </generalizations>
     <properties>
      <property type="bool" name="isQuery" >
       <default>false</default>
      </property>
      <property type="bool" name="isOrdered" />
      <property type="bool" name="isUnique" />
      <property type="int" name="lower" />
      <property type="positiveInt" name="upper" />
      <property type="ref" name="type" >
       <ref idref="krnnType" />
      </property>
     </properties>
     <containers>
      <container name="Classifier-Operation" >
       <contained_by idref="krnnClassifier" role="operationingClassifier" />
      </container>
      <container name="Operation-Type" >
       <contains idref="krnnType" unbounded="true" role="raisedException" min="0" />
      </container>
      <container name="Operation-Prameter" >
       <contains idref="krnnParameter" unbounded="true" role="ownedParameter" min="0" />
      </container>
     </containers>
    </logic>
   </node>
   <node id="krnnParameter" name="Parameter" >
    <logic>
     <properties>
      <property type="enum" name="direction" >
       <enum idref="krntParameterDirection" />
      </property>
     </properties>
     <generalizations>
      <generalization>
       <parent parent_id="krnnTypedElem" />
      </generalization>
     </generalizations>
     <containers>
      <container name="Operation-Parameter" >
       <contained_by idref="krnnOperation" role="operation" />
      </container>
      <container name="BF-Parameter" >
       <contained_by idref="krnnBehavioralFeature" role="ownerFormalParam" />
      </container>
      <container name="Behaviour-Parameter" >
       <contained_by idref="bbnBehavior" role="ownedParameter" />
      </container>
     </containers>
    </logic>
   </node>
   <!-- Features editor of the Kernel package -->
   <node id="krnnFeature" name="Feature" >
    <logic>
     <properties>
      <property type="bool" name="isStatic" />
     </properties>
     <generalizations>
      <generalization>
       <parent parent_id="krnnRedefElement" />
      </generalization>
     </generalizations>
     <containers>
      <container name="Classifier-Feature" >
       <contained_by idref="krnnClassifier" role="featuringClassifier" />
      </container>
     </containers>
    </logic>
   </node>
   <node id="krnnBehavioralFeature" name="BehavioralFeature" >
    <logic>
     <containers>
      <container name="BF-Type" >
       <contains idref="krnnType" unbounded="true" role="raisedException" min="0" />
      </container>
      <container name="BF-Parameter" >
       <contains idref="krnnParameter" unbounded="true" role="ownedParameter" min="0" />
      </container>
     </containers>
     <generalizations>
      <generalization>
       <parent parent_id="krnnFeature" />
       <parent parent_id="krnnNamespace" />
      </generalization>
     </generalizations>
    </logic>
   </node>
   <node id="krnnStructuralFeature" name="StructuralFeature" >
    <logic>
     <properties>
      <property type="bool" name="isReadOnly" />
     </properties>
     <generalizations>
      <generalization>
       <parent parent_id="krnnFeature" />
      </generalization>
      <generalization>
       <parent parent_id="krnnTypedElem" />
      </generalization>
     </generalizations>
    </logic>
   </node>
   <node id="krnnMultiplicityElement" name="MultiplicityElement">
     <logic>
	   <generalizations>
         <generalization>
		   <parent parent_id="krnnElement" />
         </generalization>
       </generalizations>
	   <properties>
	     <property type="bool" name="isOrdered" />
		 <property type="bool" name="isUnique" />
		 <property type="int" name="lower" />
		 <property type="int" name="upper" /> <!-- на самом деле type="UnlimitedNatural" -->
	   </properties>
	   <containers>
	     <container name="lowerValue" >
           <contains idref="krnnValueSpecification" role="lowerValue" />
         </container>
		 <container name="upperValue" >
           <contains idref="krnnValueSpecification" role="upperValue" />
         </container>
	   </containers>
     </logic>
   </node>
   <node id="krnnValueSpecification" name="ValueSpecification">
   <!-- не поняла, как именно она детализирует (возможно пустой) набор экземляров объектов или значений -->
     <logic>
	   <generalizations>
	     <generalization>
		   <parent parent_id="krnnPackageableElem" />
		 </generalization>
		 <generalization>
		   <parent parent_id="krnnTypedElem" />
		 </generalization>
	   </generalizations>
	   <containers>
	     <container name="lowerValue" >
		   <contained_by idref="krnnMultiplicityElement" role="nestedValueSpecification" />
         </container>
		 <container name="upperValue" >
		   <contained_by idref="krnnMultiplicityElement" role="nestedValueSpecification" />
         </container>
	   </containers>
	 </logic>
   </node>
   <node id="krnnConstraint" name="Constraint">
    <logic>
	  <generalizations>
        <generalization>
          <parent parent_id="krnnPackageableElem" />
        </generalization>
      </generalizations>
	  <containers>
        <container>
          <contains idref="krnnElement" role="constrainedElement" />
		  <contains idref="krnnValueSpecification" role="specification" />
	    </container>
	  </containers>
	</logic>
  </node>
  </graph_types>
 </editor>
</metamodel>
